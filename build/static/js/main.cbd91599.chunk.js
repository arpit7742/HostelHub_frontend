(this["webpackJsonphostel-app"]=this["webpackJsonphostel-app"]||[]).push([[0],{137:function(e,a,t){e.exports=t(229)},142:function(e,a,t){},227:function(e,a,t){},229:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(22),o=t.n(l),c=(t(142),t(11)),s=t(68),E=t(131),m=t(130);var u=t(244);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return async(t,n)=>{try{t({type:"STUDENT_LIST_REQUEST"});const{userLogin:{userInfo:r}}=n(),l={headers:{Authorization:"Bearer "+r.token}},{data:o}=await u.a.get(`/student/all?keyword=${e}&pageNumber=${a}`,l);t({type:"STUDENT_LIST_SUCCESS",payload:o})}catch(r){t({type:"STUDENT_LIST_ERROR",payload:r.response&&r.response.data.message?r.response.data.message:r.message})}}},i=e=>async(a,t)=>{try{a({type:"STUDENT_UPDATE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.put("/student/"+e._id,e,r);a({type:"STUDENT_UPDATE_SUCCESS",payload:l})}catch(n){a({type:"STUDENT_UPDATE_ERROR",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}},p=Object(s.combineReducers)({studentsList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{students:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_LIST_REQUEST":return{...e,loading:!0};case"STUDENT_LIST_SUCCESS":return{loading:!1,students:a.payload.students,pages:a.payload.pages,page:a.payload.page};case"STUDENT_LIST_ERROR":return{loading:!1,error:a.payload};default:return e}},studentDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_DETAILS_REQUEST":return{...e,loading:!0};case"STUDENT_DETAILS_SUCCESS":return{loading:!1,student:a.payload};case"STUDENT_DETAILS_ERROR":return{loading:!1,error:a.payload};default:return e}},studentAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{students:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_ADD_REQUEST":return{...e,loading:!0};case"STUDENT_ADD_SUCCESS":return{loading:!1,success:!0};case"STUDENT_ADD_ERROR":return{loading:!1,error:a.payload};default:return e}},studentUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_UPDATE_REQUEST":return{...e,loading:!0};case"STUDENT_UPDATE_SUCCESS":return{loading:!1,success:!0};case"STUDENT_UPDATE_ERROR":return{loading:!1,error:a.payload};case"STUDENT_UPDATE_RESET":return{};default:return e}},studentDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_DELETE_REQUEST":return{...e,loading:!0};case"STUDENT_DELETE_SUCCESS":return{loading:!1,success:!0};case"STUDENT_DELETE_ERROR":return{loading:!1,error:a.payload};case"STUDENT_DELETE_RESET":return{};default:return e}},getStudentsByRoomNo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STUDENT_ROOM_NO_REQUEST":return{...e,loading:!0};case"STUDENT_ROOM_NO_SUCCESS":return{loading:!1,students:a.payload.students,attendance:a.payload.attendance};case"STUDENT_ROOM_NO_ERROR":return{loading:!1,error:a.payload};case"STUDENT_ROOM_NO_RESET":return{};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DETAILS_REQUEST":return{...e,loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,user:a.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:a.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdateProfile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:a.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:a.payload};case"USER_LIST_FAIL":return{loading:!1,error:a.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_RESET":return{user:{}};default:return e}},attendanceDataEnter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ATTENDANCE_DATA_ENTER_REQUEST":return{...e,loading:!0};case"ATTENDANCE_DATA_ENTER_SUCCESS":return{loading:!1,attendance:a.payload};case"ATTENDANCE_DATA_ENTER_FAIL":return{loading:!1,error:a.payload};case"ATTENDANCE_DATA_ENTER_RESET":return{};default:return e}},attendanceAnalysis:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ATTENDANCE_ANALYSIS_REQUEST":return{loading:!0};case"ATTENDANCE_ANALYSIS_SUCCESS":return{loading:!1,attendance:a.payload};case"ATTENDANCE_ANALYSIS_FAIL":return{loading:!1,error:a.payload};case"ATTENDANCE_ANALYSIS_RESET":return{};default:return e}},attendanceDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ATTENDANCE_DELETE_REQUEST":return{loading:!0};case"ATTENDANCE_DELETE_SUCCESS":return{loading:!1,success:!0};case"ATTENDANCE_DELETE_FAIL":return{loading:!1,error:a.payload};case"ATTENDANCE_ANALYSIS_RESET":return{};default:return e}}}),S={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},g=[E.a];var y=Object(s.createStore)(p,S,Object(m.composeWithDevTools)(Object(s.applyMiddleware)(...g))),h=t(248),T=t(235),_=t(236),b=t(132),N=t(16);var U=e=>{let{stuentDetails:a}=e;return r.a.createElement(h.a,{className:"my-3 p-3 rounded"},r.a.createElement(N.Link,{to:"/student/"+a._id},r.a.createElement(T.a,{src:a.image,rounded:!0,fluid:!0})),r.a.createElement(h.a.Body,null,r.a.createElement(N.Link,{to:"/student/"+a._id},r.a.createElement(h.a.Title,{as:"div"},r.a.createElement("strong",null,a.name))),r.a.createElement(_.a,null,r.a.createElement(b.a,null,"Room No: ",a.roomNo)),r.a.createElement(_.a,null,r.a.createElement(b.a,null,"Stream: ",a.category)),r.a.createElement(h.a.Text,null,"Contact:",r.a.createElement("a",{href:"tel:"+a.contact},a.contact))))},C=t(237);var A=()=>r.a.createElement(C.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading...")),v=t(238);const R=e=>{let{variant:a,children:t}=e;return r.a.createElement(v.a,{variant:a},t)};R.defaultProps={variant:"info"};var L=R,I=t(249),f=t(31);var D=e=>{let{pages:a,page:t,isAdmin:n=!1,keyword:l=""}=e;return a>1&&r.a.createElement(I.a,null,[...Array(a).keys()].map(e=>r.a.createElement(f.LinkContainer,{key:e+1,to:n?"/page/"+(e+1):l?`/search/${l}/page/${e+1}`:"/page/"+(e+1)},r.a.createElement(I.a.Item,{active:e+1===t},e+1))))},O=t(240),j=t(241),k=t(242),w=t(239);var F=e=>{let{keyword:a,pageNumber:t}=e;const l=Object(c.b)(),o=Object(c.c)(e=>e.studentsList),{loading:s,error:E,students:m,page:u,pages:i}=o;return Object(n.useEffect)(()=>{m||l(d(a,t))},[l,a,t]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(A,null):E?r.a.createElement(L,{variant:"danger"},E):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stream"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"CONTACT"),r.a.createElement("th",null,"ROOM NO"),r.a.createElement("th",null,"CITY"))),r.a.createElement("tbody",null,m.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.category),r.a.createElement("td",null,r.a.createElement(N.Link,{to:"/student/"+e._id},e.name)),r.a.createElement("td",null,r.a.createElement("span",{style:{color:"Outside"===e.status?"red":"Home"===e.status?"blue":"black"}},e.status)),r.a.createElement("td",null,r.a.createElement("a",{href:"tel:"+e.contact},e.contact)),r.a.createElement("td",null,e.roomNo),r.a.createElement("td",null,e.city))))),r.a.createElement(D,{pages:i,page:u,isAdmin:!0})))};var P=e=>{let{match:a,history:t}=e;const[l,o]=Object(n.useState)(!0),s=a.params.keyword,E=a.params.pageNumber||1,m=Object(c.c)(e=>e.userLogin),{loading:u,userInfo:i}=m,p=Object(c.b)(),S=Object(c.c)(e=>e.studentsList),{loading:g,error:y,students:h,page:T,pages:N}=S;return Object(n.useEffect)(()=>{u||i||t.push("/login"),p(d(s,E))},[s,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(_.a,{className:"justify-content-md-center"},r.a.createElement(b.a,{xs:!0,lg:"2"}),r.a.createElement(b.a,{md:"auto"},r.a.createElement(j.a,{toggle:!0},["Grid","Table"].map(e=>r.a.createElement(k.a,{key:e,type:"radio",variant:"secondary",name:"radio",value:e,checked:(l?"Grid":"Table")===e,onChange:e=>o("Grid"===e.target.value)},"Grid"===e?r.a.createElement(r.a.Fragment,null," Grid"):r.a.createElement(r.a.Fragment,null," Table "))))),r.a.createElement(b.a,{xs:!0,lg:"2"})))),r.a.createElement("h1",null,"Students"),g?r.a.createElement(A,null):y?r.a.createElement(L,{variant:"danger"},y):l?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,h.map(e=>r.a.createElement(b.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(U,{stuentDetails:e})))),r.a.createElement(D,{pages:N,page:T,keyword:s||""})):r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{keyword:s,pageNumber:E})))},G=t(19),Q=t(247),x=t(250),B=t(243),z=t(246),M=t(77);var H=e=>{let{history:a}=e;const[t,l]=Object(n.useState)("");return r.a.createElement(z.a,{onSubmit:e=>{e.preventDefault(),t.trim()?a.push("/search/"+t):a.push("/")},inline:!0},r.a.createElement(z.a.Control,{type:"text",value:t,name:"q",placeholder:"Search students...",className:"mr-sm-2 ml-sm-5",onChange:e=>l(e.target.value)}),r.a.createElement(M.a,{className:"p-2",type:"submit",variant:"outline-success"},"Search"))};const Y=()=>e=>{localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"USER_LIST_RESET"}),document.location.href="/login"},J=e=>async(a,t)=>{try{a({type:"USER_DETAILS_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.get("/users/"+e,r);a({type:"USER_DETAILS_SUCCESS",payload:l})}catch(n){const e=n.response&&n.response.data.message?n.response.data.message:n.message;"Not authorized, token failed"===e&&a(Y()),a({type:"USER_DETAILS_FAIL",payload:e})}};var $=e=>{let{history:a}=e;const t=Object(c.b)(),n=Object(c.c)(e=>e.userLogin),{userInfo:l}=n;return r.a.createElement("header",null,r.a.createElement(Q.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(O.a,null,r.a.createElement(f.LinkContainer,{to:"/"},r.a.createElement(Q.a.Brand,null,"Hostel Management")),r.a.createElement(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Q.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(G.d,{render:e=>{let{history:a}=e;return r.a.createElement(H,{history:a})}}),r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(B.a,{title:"More"},r.a.createElement(f.LinkContainer,{to:"/attendance"},r.a.createElement(B.a.Item,null,"Attendance")),r.a.createElement(f.LinkContainer,{to:"/addStudent"},r.a.createElement(B.a.Item,null,"Add Student")),r.a.createElement(f.LinkContainer,{to:"/analysis"},r.a.createElement(B.a.Item,null,"View Analysis"))),l?r.a.createElement(B.a,{title:l.name,id:"username"},r.a.createElement(f.LinkContainer,{to:"/profile"},r.a.createElement(B.a.Item,null,"Profile")),l.isAdmin&&r.a.createElement(f.LinkContainer,{to:"/userList"},r.a.createElement(B.a.Item,null,"Users List")),r.a.createElement(B.a.Item,{onClick:()=>{t(Y()),a.push("/login")}},"Logout")):r.a.createElement(f.LinkContainer,{to:"/login"},r.a.createElement(x.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")))))))};var V=()=>r.a.createElement(O.a,null,r.a.createElement(_.a,null,r.a.createElement(b.a,{className:"text-center py-3"},"Copyright \xa9NSD Solutions")));var q=e=>{let{children:a}=e;return r.a.createElement(O.a,null,r.a.createElement(_.a,{className:"justify-content-md-center"},r.a.createElement(b.a,{xs:12,md:6},a)))};var W=()=>{const e=Object(G.k)(),[a,t]=Object(n.useState)(!1),[l,o]=Object(n.useState)(""),[s,E]=Object(n.useState)(""),[m,d]=Object(n.useState)(""),[p,S]=Object(n.useState)(""),[g,y]=Object(n.useState)(""),[h,T]=Object(n.useState)(""),[_,b]=Object(n.useState)(""),[U,C]=Object(n.useState)(""),[v,R]=Object(n.useState)(""),[I,f]=Object(n.useState)("Hostel"),D=Object(c.b)(),O=Object(c.c)(e=>e.studentAdd),{loading:j,error:k,success:w}=O,F=Object(c.c)(e=>e.studentUpdate),{loading:P,error:Q,success:x}=F;Object(n.useEffect)(()=>{if(x&&(D({type:"STUDENT_UPDATE_RESET"}),e.push("/")),e.location.state&&e.location.state.studentProps){t(!0);const a=e.location.state.studentProps;o(a.name),E(a.address),d(a.category),S(a.city),y(a.contact),T(a.fatherContact),b(a.image),C(a.roomNo),R(a.blockNo),f(a.status)}w&&e.push("/")},[D,e,w,x]);const B=()=>{if(!0===a){const a=e.location.state.studentProps._id;D(i({_id:a,name:l,address:s,category:m,city:p,contact:g,fatherContact:h,image:_,roomNo:U,blockNo:v,status:I}))}else D((t={name:l,address:s,category:m,city:p,contact:g,fatherContact:h,image:_,roomNo:U,blockNo:v,status:I},async(e,a)=>{try{e({type:"STUDENT_ADD_REQUEST"});const{userLogin:{userInfo:n}}=a(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.post("/student/addStudent",t,r);e({type:"STUDENT_ADD_SUCCESS",payload:l})}catch(k){e({type:"STUDENT_ADD_ERROR",payload:k.response&&k.response.data.message?k.response.data.message:k.message})}}));var t};return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Link,{to:"/",className:"btn btn-light my-3"},"Go Back"),j||P?r.a.createElement(A,null):r.a.createElement(r.a.Fragment,null,Q&&r.a.createElement(L,{variant:"danger"},Q),r.a.createElement(q,null,r.a.createElement("h1",null,a?"Edit Student":"Add Student"),j&&r.a.createElement(A,null),k&&r.a.createElement(L,{variant:"danger"},k),r.a.createElement(z.a,{onSubmit:B}),r.a.createElement(z.a.Group,{controlId:"name"},r.a.createElement(z.a.Label,null,"Name"),r.a.createElement(z.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:e=>o(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"status"},r.a.createElement(z.a.Label,null,"Status"),r.a.createElement(z.a.Control,{as:"select",value:I,onChange:e=>f(e.target.value)},["Hostel","Outside","Home"].map(e=>r.a.createElement("option",{key:e+1,value:e+1},e)))),r.a.createElement(z.a.Group,{controlId:"address"},r.a.createElement(z.a.Label,null,"Address"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter address",value:s,onChange:e=>E(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"city"},r.a.createElement(z.a.Label,null,"City"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter city",value:p,onChange:e=>S(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"contact"},r.a.createElement(z.a.Label,null,"Contact"),r.a.createElement(z.a.Control,{type:"number",placeholder:"Enter phone number",value:g,onChange:e=>y(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"fatherContact"},r.a.createElement(z.a.Label,null,"Father Contact"),r.a.createElement(z.a.Control,{type:"number",placeholder:"Enter Father Phone Number",value:h,onChange:e=>T(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"roomNo"},r.a.createElement(z.a.Label,null,"Room No"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter Room no",value:U,onChange:e=>C(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"b"},r.a.createElement(z.a.Label,null,"Block Number"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter Block Number",value:v,onChange:e=>R(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"image"},r.a.createElement(z.a.Label,null,"Image Url"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter Image Url",value:_,onChange:e=>b(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"category"},r.a.createElement(z.a.Label,null,"Category"),r.a.createElement(z.a.Control,{type:"text",placeholder:"Enter Stream",value:m,onChange:e=>d(e.target.value)})),r.a.createElement(M.a,{type:"submit",variant:"primary",onClick:B},a?"Update":"Add Student"))))},K=t(245),X=t(134),Z=t.n(X);t(157);const ee=e=>async(a,t)=>{try{a({type:"ATTENDANCE_ANALYSIS_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.post("/attendance/getAnalysis",{date:e},r);a({type:"ATTENDANCE_ANALYSIS_SUCCESS",payload:l})}catch(n){a({type:"ATTENDANCE_ANALYSIS_FAIL",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}};var ae=t(133);var te=()=>{const e=Object(c.c)(e=>e.attendanceAnalysis),{loading:a,error:t,attendance:l}=e,[o,s]=Object(n.useState)([]),[E,m]=Object(n.useState)([]);return Object(n.useEffect)(()=>{if(l){m([{label:"Name",key:"name"},{label:"Contact",key:"contact"},{label:"Room No",key:"roomNo"},{label:"Status",key:"attendance"}]);var e=[];Object.entries(l.details).map(a=>{var t={};t.name=a[1].name,t.contact=a[1].contact,t.roomNo=a[1].roomNo,t.attendance=l.data[a[0]],e.push(t)}),s(e)}},[l]),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(L,{variant:"danger"},t),a?r.a.createElement(A,null):r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Contact No"),r.a.createElement("th",null,"Room No"),r.a.createElement("th",null,"Attendance"))),r.a.createElement("tbody",null,l&&Object.entries(l.details).map(e=>r.a.createElement("tr",{key:e[0]},r.a.createElement("th",null,e[1].name),r.a.createElement("td",null,e[1].contact),r.a.createElement("td",null,e[1].roomNo),r.a.createElement("td",null,l.data[e[0]]))))),r.a.createElement(ae.CSVLink,{data:o,headers:E,filename:`attendance_${Date().toString().substring(0,15)}.csv`,className:"btn btn-primary"},"Download"))))};var ne=()=>{const e=Object(c.b)(),[a,t]=Object(n.useState)(!1),[l,o]=Object(n.useState)(0),[s,E]=Object(n.useState)([]),[m,d]=Object(n.useState)(new Date),i=Object(c.c)(e=>e.attendanceAnalysis),{attendance:p}=i,S=Object(c.c)(e=>e.attendanceDelete),{loading:g,success:y,error:h}=S;Object(n.useEffect)(()=>{if(p){var a=s;Object.entries(p.details).map(e=>{a.push(e[0])}),E(a)}else e(ee(m.toString().substring(0,15)))},[p,e]);const T=()=>{t(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"flex justify-content-between"},r.a.createElement(N.Link,{to:"/",className:"btn btn-light my-3"},"Go Back"),r.a.createElement("div",{style:{height:"40px",display:"flex"}},r.a.createElement(M.a,{variant:"outline-danger",size:"sm",onClick:()=>{t(!0)}},"Delete Attendance"))),g&&r.a.createElement(A,null),h&&r.a.createElement(L,{variant:"success"},h),y&&r.a.createElement(L,{variant:"success"},"Attendance Deleted"),r.a.createElement(b.a,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,r.a.createElement(_.a,null,"Analysis for "),r.a.createElement("strong",null,m.toISOString().toString().substring(0,10))),r.a.createElement(b.a,null,r.a.createElement(Z.a,{selected:m,onChange:a=>(a=>{e(ee(a.toString().substring(0,15))),d(a)})(a)}))),r.a.createElement(K.a,{show:a,animation:!0,onHide:T},r.a.createElement(K.a.Header,{closeButton:!0},r.a.createElement(K.a.Title,null,"Enter Number of days before to delete")),r.a.createElement(K.a.Body,null,r.a.createElement(z.a,null,r.a.createElement(z.a.Group,{controlId:"days"},r.a.createElement(z.a.Label,null,"Enter no of days"),r.a.createElement(z.a.Control,{type:"number",placeholder:"Enter days",value:l,onChange:e=>o(e.target.value)})))),r.a.createElement(K.a.Footer,null,r.a.createElement(M.a,{variant:"secondary",onClick:T},"Close"),r.a.createElement(M.a,{variant:"outline-danger",onClick:()=>{t(!1),e((e=>async(a,t)=>{try{a({type:"ATTENDANCE_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.delete("/attendance/"+e,r);a({type:"ATTENDANCE_DELETE_SUCCESS",payload:l})}catch(n){a({type:"ATTENDANCE_DELETE_FAIL",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}})(l))}},"Delete"))),r.a.createElement(te,null)))};var re=e=>{let{location:a,history:t}=e;const[l,o]=Object(n.useState)(""),[s,E]=Object(n.useState)(""),m=Object(c.b)(),d=Object(c.c)(e=>e.userLogin),{loading:i,error:p,userInfo:S}=d,g=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)(()=>{S&&t.push(g)},[t,S,g]);return r.a.createElement(q,null,r.a.createElement("h1",null,"Sign In"),p&&r.a.createElement(L,{variant:"danger"},p),i&&r.a.createElement(A,null),r.a.createElement(z.a,{onSubmit:e=>{e.preventDefault(),m(((e,a)=>async t=>{try{t({type:"USER_LOGIN_REQUEST"});const n={headers:{"Content-Type":"application/json"}},{data:r}=await u.a.post("/users/login",{email:e,password:a},n);t({type:"USER_LOGIN_SUCCESS",payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(p){t({type:"USER_LOGIN_FAIL",payload:p.response&&p.response.data.message?p.response.data.message:p.message})}})(l,s))}},r.a.createElement(z.a.Group,{controlId:"email"},r.a.createElement(z.a.Label,null,"Email Address"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Enter email",value:l,onChange:e=>o(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"password"},r.a.createElement(z.a.Label,null,"Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Enter password",value:s,onChange:e=>E(e.target.value)})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(_.a,{className:"py-3"},r.a.createElement(b.a,null,"New Customer?"," ",r.a.createElement(N.Link,{to:g?"/register?redirect="+g:"/register"},"Register"))))};var le=e=>{let{location:a,history:t}=e;const[l,o]=Object(n.useState)(""),[s,E]=Object(n.useState)(""),[m,d]=Object(n.useState)(""),[i,p]=Object(n.useState)(""),[S,g]=Object(n.useState)(null),y=Object(c.b)(),h=Object(c.c)(e=>e.userRegister),{loading:T,error:U,userInfo:C}=h,v=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)(()=>{C&&t.push(v)},[t,C,v]);return r.a.createElement(q,null,r.a.createElement("h1",null,"Sign Up"),S&&r.a.createElement(L,{variant:"danger"},S),U&&r.a.createElement(L,{variant:"danger"},U),T&&r.a.createElement(A,null),r.a.createElement(z.a,{onSubmit:e=>{e.preventDefault(),m!==i?g("Passwords do not match"):y(((e,a,t)=>async n=>{try{n({type:"USER_REGISTER_REQUEST"});const r={headers:{"Content-Type":"application/json"}},{data:l}=await u.a.post("/users",{name:e,email:a,password:t},r);n({type:"USER_REGISTER_SUCCESS",payload:l}),n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l))}catch(U){n({type:"USER_REGISTER_FAIL",payload:U.response&&U.response.data.message?U.response.data.message:U.message})}})(l,s,m))}},r.a.createElement(z.a.Group,{controlId:"name"},r.a.createElement(z.a.Label,null,"Name"),r.a.createElement(z.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:e=>o(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"email"},r.a.createElement(z.a.Label,null,"Email Address"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:e=>E(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"password"},r.a.createElement(z.a.Label,null,"Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:e=>d(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"confirmPassword"},r.a.createElement(z.a.Label,null,"Confirm Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Confirm password",value:i,onChange:e=>p(e.target.value)})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Register")),r.a.createElement(_.a,{className:"py-3"},r.a.createElement(b.a,null,"Have an Account?"," ",r.a.createElement(N.Link,{to:v?"/login?redirect="+v:"/login"},"Login"))))},oe=t(251);var ce=e=>{let{match:a,history:t}=e;const[l,o]=Object(n.useState)(""),s=Object(c.b)(),E=Object(c.c)(e=>e.studentDetails),{loading:m,error:d,student:p}=E,S=Object(c.c)(e=>e.studentUpdate),{loading:g,error:y,success:U}=S,C=Object(c.c)(e=>e.studentDelete),{loading:v,error:R,success:I}=C;Object(n.useEffect)(()=>{var e;I&&t.push("/"),U&&s({type:"STUDENT_UPDATE_RESET"}),p&&p._id&&p._id===a.params.id||s((e=a.params.id,async(a,t)=>{try{a({type:"STUDENT_DETAILS_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.get("/student/"+e,r);a({type:"STUDENT_DETAILS_SUCCESS",payload:l})}catch(d){a({type:"STUDENT_DETAILS_ERROR",payload:d.response&&d.response.data.message?d.response.data.message:d.message})}})),p&&p._id&&!l&&o(p.status)},[s,a,U,I]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),m||g||v?r.a.createElement(A,null):d?r.a.createElement(L,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,y&&r.a.createElement(L,{variant:"danger"},y),R&&r.a.createElement(L,{variant:"danger"},R),p&&r.a.createElement(_.a,null,r.a.createElement(b.a,{md:3},r.a.createElement(T.a,{src:p.image,alt:p.name,fluid:!0})),r.a.createElement(b.a,{md:3},r.a.createElement(oe.a,{variant:"flush"},r.a.createElement(oe.a.Item,null,r.a.createElement("h3",null,p.name)),r.a.createElement(oe.a.Item,null,r.a.createElement("span",null,"Phone No:",p.contact)),r.a.createElement(oe.a.Item,null,r.a.createElement("span",null,"Father Contact:",p.fatherContact)),r.a.createElement(oe.a.Item,null,r.a.createElement("span",null,"City:",p.city)),r.a.createElement(oe.a.Item,null,r.a.createElement("span",null,"Address:",p.address)))),r.a.createElement(b.a,{md:4},r.a.createElement(h.a,null,r.a.createElement(oe.a,{variant:"flush"},r.a.createElement(oe.a.Item,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,"Room No:"),r.a.createElement(b.a,null," ",p.roomNo))),r.a.createElement(oe.a.Item,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,"Block No:"),r.a.createElement(b.a,null," ",p.blockNo))),r.a.createElement(oe.a.Item,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,"Status:"),r.a.createElement(b.a,null,r.a.createElement(z.a.Control,{size:"sm",as:"select",value:l,onChange:e=>o(e.target.value)},["Hostel","Outside","Home"].map(e=>r.a.createElement("option",{key:e,value:e},e)))))),r.a.createElement(oe.a.Item,null,r.a.createElement(M.a,{className:"btn-block",type:"button",onClick:()=>{p.status=l,s(i(p))}},"Update"))))),r.a.createElement(b.a,null,r.a.createElement(oe.a,{variant:"flush"},r.a.createElement(_.a,null,r.a.createElement(oe.a.Item,{variant:"secondary"},r.a.createElement(M.a,{onClick:()=>{t.push({pathname:"/student/edit/"+p._id,state:{studentProps:p}})}},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(oe.a.Item,null,r.a.createElement(M.a,{variant:"danger",onClick:()=>{var e;window.confirm("Are you sure")&&s((e=p._id,async(a,t)=>{try{a({type:"STUDENT_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.delete("/student/"+e,r);a({type:"STUDENT_DELETE_SUCCESS",payload:l})}catch(d){a({type:"STUDENT_DELETE_ERROR",payload:d.response&&d.response.data.message?d.response.data.message:d.message})}}))}},r.a.createElement("i",{className:"fas fa-trash"})))))))))};var se=e=>{let{students:a,attendanceMap:t,setAttendanceMap:l,attendance:o,roomNo:s}=e;const E=Object(c.b)();Object(n.useEffect)(()=>{},[E,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"Attendance"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"CONTACT"),r.a.createElement("th",null,"CITY"))),r.a.createElement("tbody",null,a&&a.map(e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement(N.Link,{to:"/student/"+e._id},e.name)),r.a.createElement("td",null,r.a.createElement(z.a,null,r.a.createElement(z.a.Group,{controlId:"status"},r.a.createElement(z.a.Control,{as:"select",size:"sm",defaultValue:t[e._id],onChange:a=>{var n=t;n[e._id]=a.target.value,l(n)}},r.a.createElement("option",null,"Hostel"),r.a.createElement("option",null,"Home"),r.a.createElement("option",null,"outside"))))),r.a.createElement("td",null,r.a.createElement("span",{style:{color:"Outside"===e.status?"red":"Home"===e.status?"blue":"black"}},e.status)),r.a.createElement("td",null,r.a.createElement("a",{href:"tel:"+e.contact},e.contact)),r.a.createElement("td",null,e.city)))))),r.a.createElement(M.a,{variant:"success",onClick:()=>{o&&(o.roomNo.includes(s)||o.roomNo.push(s));const e=o?o.roomNo:s,n=t,r=o?o.details:{};a.map(e=>{r[e._id]={name:e.name,contact:e.contact,roomNo:e.roomNo}}),E((e=>async(a,t)=>{try{a({type:"ATTENDANCE_DATA_ENTER_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.post("/attendance/",e,r);a({type:"ATTENDANCE_DATA_ENTER_SUCCESS",payload:l})}catch(n){a({type:"ATTENDANCE_DATA_ENTER_FAIL",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}})({roomNo:e,details:r,data:n}))}},"Update Attendance"))};var Ee=e=>{let{roomNo:a}=e;const t=Object(c.b)(),[l,o]=Object(n.useState)({}),s=Object(c.c)(e=>e.getStudentsByRoomNo),{loading:E,error:m,students:u,attendance:d}=s,i=Object(c.c)(e=>e.attendanceDataEnter),{loading:p,error:S}=i;Object(n.useEffect)(()=>{u&&g()},[t,d,l,u]);const g=()=>{if(d){var e=l;u.map(a=>{d.data[a._id]?e[a._id]=d.data[a._id]:e[a._id]="Hostel"}),o(l)}else u.map(e=>{var a=l;a[e._id]="Hostel",o(a)});o(l)};return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(L,{variant:"danger"},m),E||p?r.a.createElement(A,null):r.a.createElement(r.a.Fragment,null,S&&r.a.createElement(L,{variant:"danger"},S),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{students:u,attendanceMap:l,setAttendanceMap:o,attendance:d,roomNo:a}))))};var me=()=>{const[e,a]=Object(n.useState)(""),t=Object(c.b)();Object(n.useEffect)(()=>{},[t]);const l=a=>{a.preventDefault(),t((e=>async(a,t)=>{try{a({type:"STUDENT_ROOM_NO_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}},{data:l}=await u.a.get("/student/room/"+e,r);a({type:"STUDENT_ROOM_NO_SUCCESS",payload:l})}catch(n){a({type:"STUDENT_ROOM_NO_ERROR",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}})(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Take Attendance"),r.a.createElement(z.a,{onSubmit:l,inline:!0},r.a.createElement(z.a.Control,{type:"text",value:e,name:"roomNo",placeholder:"Enter RoomNo",className:"mr-sm-2 ml-sm-5",onChange:e=>(e=>{a(e.target.value)})(e)}),r.a.createElement(M.a,{type:"submit",onClick:l},"Get Students")),r.a.createElement(Ee,{roomNo:e}))};var ue=e=>{let{history:a}=e;const[t,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[E,m]=Object(n.useState)(""),[d,i]=Object(n.useState)(""),[p,S]=Object(n.useState)(null),g=Object(c.b)(),y=Object(c.c)(e=>e.userDetails),{loading:h,error:T,user:N}=y,U=Object(c.c)(e=>e.userLogin),{userInfo:C}=U,v=Object(c.c)(e=>e.userUpdateProfile),{success:R}=v;Object(n.useEffect)(()=>{C?N&&N.name&&!R?(l(N.name),s(N.email)):(g({type:"USER_UPDATE_PROFILE_RESET"}),g(J("profile"))):a.push("/login")},[g,a,C,N,R]);return r.a.createElement(_.a,null,r.a.createElement(b.a,{md:3},r.a.createElement("h2",null,"Profile"),p&&r.a.createElement(L,{variant:"danger"},p),R&&r.a.createElement(L,{variant:"success"},"Profile Updated"),h?r.a.createElement(A,null):T?r.a.createElement(L,{variant:"danger"},T):r.a.createElement(z.a,{onSubmit:e=>{e.preventDefault(),E!==d?S("Passwords do not match"):g((e=>async(a,t)=>{try{a({type:"USER_UPDATE_PROFILE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.token}},{data:l}=await u.a.put("/users/profile",e,r);a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:l}),a({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l))}catch(T){const t=T.response&&T.response.data.message?T.response.data.message:T.message;"Not authorized, token failed"===t&&a(Y()),a({type:"USER_UPDATE_PROFILE_FAIL",payload:t})}})({id:N._id,name:t,email:o,password:E}))}},r.a.createElement(z.a.Group,{controlId:"name"},r.a.createElement(z.a.Label,null,"Name"),r.a.createElement(z.a.Control,{type:"name",placeholder:"Enter name",value:t,onChange:e=>l(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"email"},r.a.createElement(z.a.Label,null,"Email Address"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:e=>s(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"password"},r.a.createElement(z.a.Label,null,"Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Enter password",value:E,onChange:e=>m(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"confirmPassword"},r.a.createElement(z.a.Label,null,"Confirm Password"),r.a.createElement(z.a.Control,{type:"password",placeholder:"Confirm password",value:d,onChange:e=>i(e.target.value)})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))};var de=e=>{let{history:a}=e;const t=Object(c.b)(),l=Object(c.c)(e=>e.userList),{loading:o,error:s,users:E}=l,m=Object(c.c)(e=>e.userLogin),{userInfo:d}=m,i=Object(c.c)(e=>e.userDelete),{success:p}=i;Object(n.useEffect)(()=>{d&&d.isAdmin?t(async(e,a)=>{try{e({type:"USER_LIST_REQUEST"});const{userLogin:{userInfo:t}}=a(),n={headers:{Authorization:"Bearer "+t.token}},{data:r}=await u.a.get("/users",n);e({type:"USER_LIST_SUCCESS",payload:r})}catch(s){const t=s.response&&s.response.data.message?s.response.data.message:s.message;"Not authorized, token failed"===t&&e(Y()),e({type:"USER_LIST_FAIL",payload:t})}}):a.push("/login")},[t,a,p,d]);const S=e=>{window.confirm("Are you sure")&&t((e=>async(a,t)=>{try{a({type:"USER_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}};await u.a.delete("/users/"+e,r),a({type:"USER_DELETE_SUCCESS"})}catch(s){const t=s.response&&s.response.data.message?s.response.data.message:s.message;"Not authorized, token failed"===t&&a(Y()),a({type:"USER_DELETE_FAIL",payload:t})}})(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Users"),o?r.a.createElement(A,null):s?r.a.createElement(L,{variant:"danger"},s):r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADMIN"),r.a.createElement("th",null))),r.a.createElement("tbody",null,E.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:"+e.email},e.email)),r.a.createElement("td",null,e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(f.LinkContainer,{to:`/user/${e._id}/edit`},r.a.createElement(M.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(M.a,{variant:"danger",className:"btn-sm",onClick:()=>S(e._id)},r.a.createElement("i",{className:"fas fa-trash"}))))))))};var ie=e=>{let{match:a,history:t}=e;const l=a.params.userId,[o,s]=Object(n.useState)(""),[E,m]=Object(n.useState)(""),[d,i]=Object(n.useState)(!1),p=Object(c.b)(),S=Object(c.c)(e=>e.userDetails),{loading:g,error:y,user:h}=S,T=Object(c.c)(e=>e.userUpdate),{loading:_,error:b,success:U}=T;Object(n.useEffect)(()=>{console.log(l),U?(p({type:"USER_UPDATE_RESET"}),t.push("/userList")):h&&h.name&&h._id===l?(s(h.name),m(h.email),i(h.isAdmin)):p(J(l))},[p,t,l,h,U]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Link,{to:"/admin/userList",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(q,null,r.a.createElement("h1",null,"Edit User"),_&&r.a.createElement(A,null),b&&r.a.createElement(L,{variant:"danger"},b),g?r.a.createElement(A,null):y?r.a.createElement(L,{variant:"danger"},y):r.a.createElement(z.a,{onSubmit:e=>{e.preventDefault(),p((e=>async(a,t)=>{try{a({type:"USER_UPDATE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.token}},{data:l}=await u.a.put("/users/"+e._id,e,r);a({type:"USER_UPDATE_SUCCESS"}),a({type:"USER_DETAILS_SUCCESS",payload:l}),a({type:"USER_DETAILS_RESET"})}catch(y){const t=y.response&&y.response.data.message?y.response.data.message:y.message;"Not authorized, token failed"===t&&a(Y()),a({type:"USER_UPDATE_FAIL",payload:t})}})({_id:l,name:o,email:E,isAdmin:d}))}},r.a.createElement(z.a.Group,{controlId:"name"},r.a.createElement(z.a.Label,null,"Name"),r.a.createElement(z.a.Control,{type:"name",placeholder:"Enter name",value:o,onChange:e=>s(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"email"},r.a.createElement(z.a.Label,null,"Email Address"),r.a.createElement(z.a.Control,{type:"email",placeholder:"Enter email",value:E,onChange:e=>m(e.target.value)})),r.a.createElement(z.a.Group,{controlId:"isadmin"},r.a.createElement(z.a.Check,{type:"checkbox",label:"Is Admin",checked:d,onChange:e=>i(e.target.checked)})),r.a.createElement(M.a,{type:"submit",variant:"primary"},"Update"))))};var pe=()=>r.a.createElement(N.BrowserRouter,null,r.a.createElement($,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(O.a,null,r.a.createElement(G.d,{path:"/user/:userId/edit",component:ie}),r.a.createElement(G.d,{path:"/userList",component:de}),r.a.createElement(G.d,{path:"/profile",component:ue}),r.a.createElement(G.d,{path:"/attendance",component:me}),r.a.createElement(G.d,{path:"/analysis",component:ne}),r.a.createElement(G.d,{path:"/addStudent",component:W}),r.a.createElement(G.d,{path:"/student/edit/:id",component:W,exact:!0}),r.a.createElement(G.d,{path:"/student/:id",component:ce,exact:!0}),r.a.createElement(G.d,{path:"/login",component:re,exact:!0}),r.a.createElement(G.d,{path:"/register",component:le,exact:!0}),r.a.createElement(G.d,{path:"/search/:keyword",component:P,exact:!0}),r.a.createElement(G.d,{path:"/page/:pageNumber",component:P,exact:!0}),r.a.createElement(G.d,{path:"/search/:keyword/page/:pageNumber",component:P,exact:!0}),r.a.createElement(G.d,{path:"/",component:P,exact:!0}))),r.a.createElement(V,null));var Se=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,252)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:o}=a;t(e),n(e),r(e),l(e),o(e)})};t(227);o.a.render(r.a.createElement(c.a,{store:y},r.a.createElement(pe,null)),document.getElementById("root")),Se()}},[[137,1,2]]]);
//# sourceMappingURL=main.cbd91599.chunk.js.map